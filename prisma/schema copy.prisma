// // This is your Prisma schema file,
// // learn more about it in the docs: https://pris.ly/d/prisma-schema

// generator client {
//   provider = "prisma-client-js"
// }

// datasource db {
//   provider  = "postgresql"
//   url       = env("DATABASE_URL")
//   directUrl = env("DIRECT_URL")
// }

// enum UserProfile {
//   CLIENT
//   TRANSPORTER
//   ADMIN
// }

// model User {
//   id             String      @id @default(uuid())
//   name           String
//   email          String      @unique
//   phone          String?     @unique
//   isActive       Boolean     @default(true)
//   password       String
//   documentType   String
//   documentNumber String
//   isVerified     Boolean     @default(false)
//   createdAt      DateTime    @default(now())
//   updatedAt      DateTime    @updatedAt
//   profile        UserProfile @default(CLIENT)
//   Vehicle        Vehicle[]
//   Image          Image[]

//   Client Client?

//   FreightRequests         FreightRequest[] @relation("ClientFreightRequests")
//   AssignedFreightRequests FreightRequest[] @relation("AssignedTransporterFreightRequests")
//   Offers                  FreightOffer[]   @relation("TransporterOffers")

//   @@map("users")
// }

// model Client {
//   id          String  @id @default(uuid())
//   userId      String  @unique
//   user        User    @relation(fields: [userId], references: [id], onDelete: Cascade)
//   provincia   String
//   accountType String
//   companyName String?
//   nif         String?

//   @@map("clients")
// }

// model Vehicle {
//   id           String         @id @default(uuid())
//   brand        String?
//   model        String?
//   licensePlate String         @unique
//   type         String
//   loadCapacity Int
//   trailerType  String?
//   baseProvince String
//   isActive     Boolean        @default(true)
//   createdAt    DateTime       @default(now())
//   updatedAt    DateTime       @updatedAt
//   userId       String?
//   user         User?          @relation(fields: [userId], references: [id])
//   Image        Image[]
//   Tracking     Tracking[]
//   offers       FreightOffer[] @relation

//   @@map("vehicles")
// }

// /**
//  * model Freight {
//  * id            String        @id @default(uuid())
//  * description   String
//  * origin        String
//  * destination   String
//  * price         Float
//  * status        FreightStatus @default(PENDING)
//  * clientId      String
//  * driverId      String?
//  * extraServices Json? // Campo novo como JSON
//  * createdAt     DateTime      @default(now())
//  * updatedAt     DateTime      @updatedAt
//  * client User     @relation("ClientFreights", fields: [clientId], references: [id])
//  * driver User?    @relation("DriverFreights", fields: [driverId], references: [id])
//  * User   User?    @relation(fields: [userId], references: [id])
//  * userId String?
//  * Review Review[]
//  * Image  Image[]
//  * @@map("freights")
//  * }
//  */

// model FreightRequest {
//   id                    String        @id @default(uuid())
//   createdAt             DateTime?     @default(now())
//   clientId              String
//   originAddress         String
//   originCity            String
//   originState           String
//   destinationAddress    String
//   destinationCity       String
//   destinationState      String
//   cargoType             String
//   weight                String
//   dimensions            String?
//   quantity              String
//   description           String?
//   pickupDate            DateTime      @db.Date
//   deliveryDate          DateTime      @db.Date
//   requiresLoadingHelp   Boolean?      @default(false)
//   requiresUnloadingHelp Boolean?      @default(false)
//   hasInsurance          Boolean?      @default(false)
//   status                FreightStatus @default(PENDING)
//   trackingNumber        String?       @unique
//   assignedTransporterId String?

//   client              User           @relation("ClientFreightRequests", fields: [clientId], references: [id], onDelete: Cascade)
//   assignedTransporter User?          @relation("AssignedTransporterFreightRequests", fields: [assignedTransporterId], references: [id])
//   offers              FreightOffer[] @relation("RequestOffers")

//   Image Image[]
// }

// model FreightOffer {
//   id                    String      @id @default(uuid())
//   createdAt             DateTime?   @default(now())
//   freightRequestId      String?
//   transporterId         String
//   vehicleId             String?
//   price                 Decimal
//   estimatedDeliveryDate DateTime?   @db.Date
//   notes                 String?
//   status                OfferStatus @default(PENDING)

//   FreightRequest FreightRequest? @relation("RequestOffers", fields: [freightRequestId], references: [id], onDelete: Cascade)
//   Transporter    User            @relation("TransporterOffers", fields: [transporterId], references: [id], onDelete: Cascade)
//   Vehicle        Vehicle?        @relation(fields: [vehicleId], references: [id], onDelete: SetNull)
// }

// enum FreightStatus {
//   PENDING
//   ACCEPTED
//   IN_PROGRESS
//   COMPLETED
//   CANCELED
// }

// enum OfferStatus {
//   PENDING
//   ACCEPTED
//   REJECTED
// }

// model Image {
//   id        String    @id @default(uuid())
//   type      ImageType
//   path      String
//   filename  String
//   userId    String?   @map("user_id")
//   vehicleId String?   @map("vehicle_id")
//   freightId String?   @map("freight_id")
//   createdAt DateTime  @default(now())
//   updatedAt DateTime  @updatedAt

//   user    User?           @relation(fields: [userId], references: [id])
//   vehicle Vehicle?        @relation(fields: [vehicleId], references: [id])
//   freight FreightRequest? @relation(fields: [freightId], references: [id])

//   @@map("images")
// }

// // Enum for image types
// // This enum defines the different types of images that can be uploaded in the system.
// enum ImageType {
//   PROFILE_IMAGE
//   PROFILE_DOCUMENT
//   VEHICLE_IMAGE
//   VEHICLE_DOCUMENT
//   FREIGHT_IMAGE
// }

// model Tracking {
//   id          String   @id @default(uuid())
//   vehicleId   String
//   vehicle     Vehicle  @relation(fields: [vehicleId], references: [id])
//   latitude    Float
//   longitude   Float
//   speed       Float?
//   direction   String?
//   isAvailable Boolean  @default(true)
//   updatedAt   DateTime @updatedAt
//   createdAt   DateTime @default(now())
// }

// /**
//  * model Review {
//  * id        String   @id @default(uuid())
//  * rating    Int // Nota de 1 a 5
//  * comment   String? // Coment√°rio opcional
//  * freightId String
//  * freight   Freight  @relation(fields: [freightId], references: [id])
//  * createdAt DateTime @default(now())
//  * @@map("reviews")
//  * }
//  */
